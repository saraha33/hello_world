(window.webpackJsonp=window.webpackJsonp||[]).push([[21,1,2,37],{242:function(e,t,i){},243:function(e,t,i){"use strict";i.r(t);i(93);var s={name:"BaseIcon",props:{name:{type:String,default:null,validator:e=>["add-existing-collection","add-existing-object","add-new-collection","add-new-object","archive-arrow","archive-empty","archive-sheets","arrow-left","attachment","attention","audio-object","calendar-many","calendar-number","camera","check-mark","clock","collection","download","drag-lines","drag-n-drop","drop-down","duplicate","edit","eye-hide","eye","file-object","forbidden","home","image-object","information","licence","logo","magnifier","next","options-menu","people","play","plus","prev","print","refresh","remove","save-file","share","sort","subscribe","success","text","unsubscribe","video-object","waste-bin"].includes(e)},title:{type:String,default:""},desc:{type:String,default:""}},data:()=>({baseIcons:null}),computed:{icon(){return`${this.baseIcons}#${this.name}`},id(){return this._uid},ariaAttribute(){const e=[];return this.title&&e.push("title_"+this.id),this.desc&&e.push("desc_"+this.id),e.join(" ")}},mounted(){window.base_ui_icons?this.baseIcons=window.base_ui_icons:this.baseIcons="/base-ui-icons.svg"}},a=(i(244),i(11)),o=Object(a.a)(s,(function(){var e=this,t=e._self._c;return t("svg",{staticClass:"base-icon",attrs:{"aria-labelledby":!(!e.title&&!e.desc)&&e.ariaAttribute}},[e.title?t("title",{attrs:{id:"title_"+e.id}},[e._v(e._s(e.title))]):e._e(),e._v(" "),e.desc?t("desc",{attrs:{id:"desc_"+e.id}},[e._v(e._s(e.desc))]):e._e(),e._v(" "),e.baseIcons?t("use",{attrs:{href:e.icon}}):e._e()])}),[],!1,null,"33254aaa",null);t.default=o.exports},244:function(e,t,i){"use strict";i(242)},248:function(e,t,i){"use strict";i(92);t.a={computed:{hasI18n(){return Boolean(this.$i18n)}},methods:{getI18nTerm(e,t=-1,i={}){if(this.hasI18n&&this.$te(e))return t>=0?this.$tc(e,t,i):this.$t(e,i);return e.split(".").pop()||e},setLangLabels(e,t){return t.reduce((t,i)=>(this.$set(t,i,this.$i18n?this.$t(e,i):e.split(".").pop()),t),{})},getLangLabel(e,t=!1){const i=this.hasI18n?this.language||this.$i18n.locale:this.language;if("string"==typeof e)return e;if(e&&i&&e[i])return e[i];if(e&&i&&t){const t=Object.keys(e).find(t=>!!e[t]);return e[t]||e[i]||""}return e}}}},261:function(e,t,i){},270:function(e,t,i){"use strict";i(261)},271:function(e,t,i){"use strict";var s=i(272);t.a={data:()=>({targetElement:null}),watch:{showInt(e){e||Object(s.clearAllBodyScrollLocks)()}},updated(){this.targetElement=this.$refs[this.targetName],this.targetElement&&(this.showInt?Object(s.disableBodyScroll)(this.targetElement):Object(s.enableBodyScroll)(this.targetElement))},destroyed(){Object(s.clearAllBodyScrollLocks)()}}},275:function(e,t,i){"use strict";i.r(t);var s={name:"BaseLoader",props:{loaderColor:{type:String,default:""},position:{type:Object,default:()=>({})},hide:{type:Boolean,default:!1}}},a=(i(270),i(11)),o=Object(a.a)(s,(function(){var e=this._self._c;return e("div",{staticClass:"base-loader",style:{...this.position,"--loader-color":this.loaderColor}},[this.hide?this._e():e("svg",{staticClass:"base-loader-circular"},[e("circle",{staticClass:"base-loader-path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"4","stroke-miterlimit":"10"}})])])}),[],!1,null,"46e8ae7c",null);t.default=o.exports},281:function(e,t,i){},300:function(e,t,i){"use strict";i(281)},341:function(e,t,i){},379:function(e,t,i){"use strict";i.r(t);var s=i(275),a=i(248),o={name:"BaseMedia",components:{BaseLoader:s.default,BaseButton:()=>Promise.all([i.e(0),i.e(5)]).then(i.bind(null,259)),BaseHlsVideo:()=>Promise.all([i.e(0),i.e(7),i.e(41)]).then(i.bind(null,935))},mixins:[a.a],props:{mediaUrl:{type:String,default:""},mediaPosterUrl:{type:String,default:""},displayName:{type:String,default:""},downloadUrl:{type:String,default:""},mediaType:{type:String,default:"",validator:e=>["image","video","audio","pdf",""].includes(e)},displaySize:{type:Object,default:()=>({})},allowDownload:{type:Boolean,default:!0},infoTexts:{type:Object,default:()=>({download:"Download",view:"View"})},orientation:{type:Number,default:0},previews:{type:Array,default:()=>[]},additionalInfo:{type:Array,default:()=>[]},autoplay:{type:Boolean,default:!1},currentSlideInfo:{type:String,default:""},hlsStartLevel:{type:Number,default:void 0}},data:()=>({displayImage:!0,isMobile:!1,footerHeight:null}),computed:{fileType(){if(this.mediaType)return this.mediaType;const e=this.fileEnding;return["png","gif","jpeg","jpg"].includes(e.toLowerCase())?"image":["mp4","m3u8","ogg"].includes(e.toLowerCase())?"video":["mp3","wav","mpeg"].includes(e.toLowerCase())?"audio":["pdf"].includes(e.toLowerCase())?"document":""},fileName(){const e=this.sourceUrl.match(/([^/]+)$/);return e?decodeURI(e[1]):""},fileEnding(){const e=this.sourceUrl.match(/\w+\.(\w{2,4})$/);return e?e[1]:""},formatNotSupported(){return!this.fileType},imageSourceSet(){return this.previews.length?this.previews.map(e=>Object.keys(e).map(t=>`${e[t]} ${t}`)).join(", "):""},sourceUrl(){const e=this.previews.length-1;return this.previews&&this.previews[e]?Object.values(this.previews[e])[0]:this.mediaUrl}},mounted(){this.isMobile=window.innerWidth<=640,this.setFooterHeight(),this.resizeObserver().observe(document.body)},beforeDestroy(){this.resizeObserver().unobserve(document.body)},methods:{download(){(this.allowDownload||!this.allowDownload&&""===this.fileType)&&this.$emit("download",{url:this.downloadUrl||this.mediaUrl,name:this.fileName})},openPdf(){window.open(this.mediaUrl)},setFooterHeight(){this.$refs.footer&&(this.footerHeight=this.$refs.footer.offsetHeight)},resizeObserver(){return new ResizeObserver(this.throttle(()=>this.setFooterHeight(),500))},throttle(e,t){let i=0;return(...s)=>{clearTimeout(i),i=setTimeout(()=>e.apply(this,s),t)}}}},r=(i(300),i(11)),n=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-media-preview-image-stage",style:{"--footer-height":e.footerHeight+"px"}},[e.displayImage&&"image"===e.fileType?t("div",{staticClass:"base-media-preview-preloader"},[t("base-loader",{staticClass:"base-media-preview-preloader-loader"})],1):e._e(),e._v(" "),e.displayImage&&"image"===e.fileType?t("img",{class:["swiper-lazy","base-media-preview-image","base-media-preview-rotation-"+e.orientation.toString()],style:e.displaySize,attrs:{"data-srcset":e.imageSourceSet,"data-src":e.sourceUrl},on:{error:function(t){e.displayImage=!1}}}):"image"!==e.fileType||e.displayImage?"video"===e.fileType?t("base-hls-video",{ref:"baseMediaVideo",staticClass:"base-media-preview-image base-media-preview-video",attrs:{"display-size":e.displaySize,"media-url":e.mediaUrl,"media-poster-url":e.mediaPosterUrl,autoplay:e.autoplay,"hls-start-level":e.hlsStartLevel}}):"audio"===e.fileType?t("audio",{ref:"baseMediaAudio",staticClass:"base-media-preview__audio",attrs:{controls:""}},[e._v("\n    Your browser does not support the audio tag.\n    "),t("source",{attrs:{src:e.mediaUrl,type:"audio/mpeg"}})]):t("div",{staticClass:"base-media-preview-not-supported base-media-preview-error"},[t("p",{staticClass:"base-media-preview-not-supported-file-name"},[e._v("\n      "+e._s(e.fileName)+"\n    ")]),e._v(" "),t("div",{staticClass:"base-media-preview-not-supported-buttons"},[e.allowDownload||!e.allowDownload&&""===e.fileType?t("BaseButton",{staticClass:"base-media-preview__button base-media-preview-not-supported-button",attrs:{text:e.getI18nTerm(e.infoTexts.download),icon:"download","icon-position":"right","icon-size":"large"},on:{clicked:e.download}}):e._e(),e._v(" "),!e.isMobile&&"pdf"===e.fileEnding||!e.allowDownload&&"pdf"===e.fileEnding?t("BaseButton",{staticClass:"base-media-preview__button base-media-preview-not-supported-button",attrs:{text:e.getI18nTerm(e.infoTexts.view),icon:"eye","icon-position":"right","icon-size":"large"},on:{clicked:function(t){return e.openPdf()}}}):e._e()],1),e._v(" "),e._l(e.additionalInfo,(function(i){return t("p",{key:i,staticClass:"base-media-preview__not-supported-additional"},[e._v("\n      "+e._s(i)+"\n    ")])}))],2):t("div",{staticClass:"base-media-preview-not-supported base-media-preview-error"},[t("p",{staticClass:"base-media-preview-not-supported-file-name"},[e._v("\n      An error occurred displaying this image.\n    ")])]),e._v(" "),t("div",{ref:"footer",staticClass:"base-media-preview-info"},[t("div",{staticClass:"base-media-preview__info__col base-media-preview__info__col1 base-media-preview__info-text-wrapper"},[t("p",{staticClass:"base-media-preview-info-text"},[e._v("\n        "+e._s(e.displayName)+"\n      ")]),e._v(" "),e.additionalInfo.length?e._l(e.additionalInfo,(function(i){return t("p",{key:i,staticClass:"base-media-preview__info-text-additional"},[e._v("\n          "+e._s(i)+"\n        ")])})):e._e()],2),e._v(" "),e.currentSlideInfo?t("div",{staticClass:"base-media-preview__info__col base-media-preview__info__col2",attrs:{"aria-hidden":"true"}},[t("p",[e._v("\n        "+e._s(e.currentSlideInfo)+"\n      ")])]):e._e(),e._v(" "),e.allowDownload?t("div",{staticClass:"base-media-preview__info__col base-media-preview__info__col3"},[t("BaseButton",{staticClass:"base-media-preview__button",attrs:{text:e.infoTexts.download,icon:"download","icon-position":"right","icon-size":"large"},on:{clicked:e.download}})],1):e._e()])],1)}),[],!1,null,"1a14cd68",null);t.default=n.exports},422:function(e,t,i){"use strict";i(341)},957:function(e,t,i){"use strict";i.r(t);i(93);var s=i(945),a=i(941),o=i(942),r=i(943),n=i(379),l=i(243),d=i(271);s.a.use([a.a,o.a,r.a]);var c={name:"BaseMediaCarousel",components:{BaseMediaCarouselItem:n.default,BaseIcon:l.default},mixins:[d.a],props:{items:{type:Array,default:()=>[]},initialSlide:{type:[Number,String],default:0},allowDownload:{type:Boolean,default:!0},infoTexts:{type:Object,default:()=>({download:"Download",view:"View"})},showPreview:{type:Boolean,default:!1},swiperOptions:{type:Object,default:()=>({speed:500,keyboard:{enabled:!0}})}},data(){return{showInt:this.showPreview,targetName:"mediaCarousel",swiper:null,swiperId:"base-media-carousel__swiper"+this._uid}},watch:{showPreview(e){this.showInt=e}},updated(){this.$nextTick(()=>{document&&this.showInt&&null===this.swiper&&(this.initSwiper(),this.$el.addEventListener("keyup",e=>this.escapeEvent(e)),this.$el.addEventListener("keydown",e=>this.tabEvents(e))),this.showInt||(this.swiper=null,this.$el.removeEventListener("keyup",e=>this.escapeEvent(e)),this.$el.removeEventListener("keydown",e=>this.tabEvents(e)))})},methods:{hide(){this.$emit("hide")},initSwiper(){const e={init:!1,initialSlide:this.initialSlide,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazy:{loadPrevNext:!0,preloaderClass:"base-media-preview-preloader"},threshold:10};this.swiper=new s.a("#"+this.swiperId,{...this.swiperOptions,...e}),this.swiper.on("slideChange",()=>{this.mediaPause()}),this.swiper.on("transitionEnd",()=>{this.$refs.baseMedia[this.swiper.activeIndex].$el.focus()}),this.swiper.on("init",()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize"))},0)}),this.swiper.init(),this.$refs.baseMedia[this.swiper.activeIndex].$el.focus()},mediaPause(){const e=this.$refs.baseMedia[this.swiper.previousIndex];e&&e.$refs.baseMediaVideo&&e.$refs.baseMediaVideo.pause(),e&&e.$refs.baseMediaAudio&&e.$refs.baseMediaAudio.pause()},escapeEvent(e){"Escape"===e.key&&this.hide()},tabEvents(e){if(e.shiftKey&&"Tab"===e.key)return e.preventDefault(),void this.setFocus("prev");"Tab"===e.key&&(e.preventDefault(),this.setFocus("next"))},getFocusableItems(){const e=[];return this.$refs.baseMedia.forEach(t=>{const i=Array.from(t.$el.querySelectorAll('button, audio, video[tabindex="1"]'));i.unshift(t.$el),e.push(i)}),e},setFocus(e="next"){const t=this.getFocusableItems();let i,s;if(t.forEach((e,t)=>{e.forEach((e,a)=>{e.matches(":focus")&&(i=t,s=a)})}),"next"===e){if(t[i][s+1])return void t[i][s+1].focus();this.swiper.slideNext()}if("prev"===e){if(t[i][s-1])return void t[i][s-1].focus();this.swiper.slidePrev()}},download(e){this.$emit("download",e)}}},u=(i(422),i(11)),p=Object(u.a)(c,(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"grow"}},[e.showInt?t("div",{ref:"mediaCarousel",staticClass:"base-media-carousel"},[t("div",{staticClass:"base-media-carousel__background"}),e._v(" "),t("button",{staticClass:"base-media-carousel__close",on:{click:e.hide}},[t("base-icon",{attrs:{name:"remove"}})],1),e._v(" "),t("div",{staticClass:"swiper-container",attrs:{id:e.swiperId}},[e.items.length>1?[t("base-icon",{staticClass:"swiper-button swiper-button-prev",attrs:{name:"prev"}}),e._v(" "),t("base-icon",{staticClass:"swiper-button swiper-button-next",attrs:{name:"next"}})]:e._e(),e._v(" "),t("div",{staticClass:"swiper-wrapper"},e._l(e.items,(function(i,s){return t("div",{key:s,staticClass:"swiper-slide"},[t("base-media-carousel-item",{ref:"baseMedia",refInFor:!0,attrs:{autoplay:s===e.initialSlide,"additional-info":i.additionalInfo,"allow-download":e.allowDownload,"current-slide-info":e.items.length>1?`${s+1} / ${e.items.length}`:"","display-name":i.title,"display-size":i.displaySize,"download-url":i.downloadUrl,"info-texts":e.infoTexts,"media-url":i.mediaUrl,"media-poster-url":i.mediaPosterUrl,"media-type":i.mediaType,orientation:i.orientation,previews:i.previews,"hls-start-level":i.hlsStartLevel,tabindex:"1"},on:{download:e.download}})],1)})),0)],2)]):e._e()])}),[],!1,null,"33659a8a",null);t.default=p.exports}}]);