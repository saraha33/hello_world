(window.webpackJsonp=window.webpackJsonp||[]).push([[19,134,135,136,137,138],{246:function(e,t,i){"use strict";i(92);t.a={computed:{hasI18n(){return Boolean(this.$i18n)}},methods:{getI18nTerm(e,t=-1,i={}){if(this.hasI18n&&this.$te(e))return t>=0?this.$tc(e,t,i):this.$t(e,i);return e.split(".").pop()||e},setLangLabels(e,t){return t.reduce((t,i)=>(this.$set(t,i,this.$i18n?this.$t(e,i):e.split(".").pop()),t),{})},getLangLabel(e,t=!1){const i=this.hasI18n?this.language||this.$i18n.locale:this.language;if("string"==typeof e)return e;if(e&&i&&e[i])return e[i];if(e&&i&&t){const t=Object.keys(e).find(t=>!!e[t]);return e[t]||e[i]||""}return e}}}},363:function(e,t,i){},407:function(e,t,i){"use strict";i.r(t);var l={name:"BaseFormFieldCreator",components:{BaseDropDown:()=>Promise.all([i.e(0),i.e(51)]).then(i.bind(null,977)),BaseDateInput:()=>Promise.all([i.e(0),i.e(9),i.e(7),i.e(139)]).then(i.bind(null,997)),BaseForm:()=>Promise.all([i.e(0),i.e(46)]).then(i.bind(null,978)),BaseToggle:()=>Promise.all([i.e(0),i.e(17)]).then(i.bind(null,983)),BaseLink:()=>Promise.all([i.e(0),i.e(10)]).then(i.bind(null,1003))},mixins:[i(246).a],props:{fieldKey:{type:[Number,String],required:!0},field:{type:Object,required:!0},fieldValue:{type:[Object,String,Array,Date,Number,Boolean],required:!0},fieldProps:{type:Object,default:()=>({})},label:{type:String,default:""},showLabel:{type:Boolean,default:!0},placeholder:{type:[String,Object],default:""},dropDownList:{type:Array,default:()=>[]},secondaryDropdown:{type:Array,default:()=>[]},hoverBoxData:{type:Object,default:()=>({})},autocompleteLoading:{type:Boolean,default:!1},language:{type:String,default:"en"},availableLocales:{type:Array,default:()=>[]},sortText:{type:String,default:"Sort A - Z"},fieldGroupParams:{type:Object,default:()=>({})},required:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},errorMessage:{type:String,default:""},showErrorIcon:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},identifierPropertyName:{type:String,default:"source"},labelPropertyName:{type:String,default:"label"}},data:()=>({fieldValueInt:null,textInput:"",fetchingData:!1,activeTab:""}),computed:{fieldElement(){return"text"===this.fieldType?()=>Promise.all([i.e(0),i.e(48)]).then(i.bind(null,266)):"multiline"===this.fieldType?()=>Promise.all([i.e(0),i.e(14)]).then(i.bind(null,1009)):"autocomplete"===this.fieldType?()=>Promise.all([i.e(0),i.e(13)]).then(i.bind(null,996)):"chips"===this.fieldType?()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(6)]).then(i.bind(null,405)):"chips-below"===this.fieldType?()=>Promise.all([i.e(0),i.e(1),i.e(2),i.e(6),i.e(57)]).then(i.bind(null,974)):null},dateType(){const e=this.field.properties||this.field.items&&this.field.items.properties?Object.keys(this.field.properties||this.field.items.properties):[];return this.field.properties||this.field.items&&this.field.items.properties?e.includes("date_to")&&e.includes("time_to")?"daterangetimerange":e.includes("date")&&e.includes("time_to")?"datetimerange":e.includes("time")?"datetime":e.includes("date_to")?"daterange":"single":"single"},groupFormFields(){return"array"===this.field.type?this.field.items.properties:this.field.properties},textTypeDefault(){return{[this.labelPropertyName]:this.setLangLabels("form.noTextType",this.availableLocales),[this.identifierPropertyName]:""}},textTypeOptions(){return[this.textTypeDefault].concat(this.secondaryDropdown)},isContributorOrEquivalent(){return"contributors"===this.field.name||this.field["x-attrs"]&&"contributors"===this.field["x-attrs"].equivalent},fieldInput(){return this.textInput&&this.textInput.length>2},isChipsSingleSelect(){return this.field["x-attrs"]&&this.field["x-attrs"].field_type&&this.field["x-attrs"].field_type.includes("chips")&&"object"===this.field.type},labelInt(){return this.label||this.fieldProps.label?this.label||this.fieldProps.label:this.field.title||this.getI18nTerm("form."+this.field.name||this.field.name)},placeholderInt(){if(this.placeholder||this.fieldProps.placeholder)return this.placeholder||this.fieldProps.placeholder;return(this.field["x-attrs"]&&this.field["x-attrs"].placeholder?this.field["x-attrs"].placeholder:"")||`${this.hasI18n?this.getI18nTerm("form.select"):"Select"} ${this.labelInt}`},fieldType(){return this.field["x-attrs"]&&this.field["x-attrs"].field_type?this.field["x-attrs"].field_type:"text"},tabs(){return this.field.items&&this.field.items.properties&&this.field.items.properties.data&&this.field.items.properties.data.items&&this.field.items.properties.data.items.properties&&this.field.items.properties.data.items.properties.language?Object.keys(this.field.items.properties.data.items.properties.language.properties.label.properties).filter(e=>this.availableLocales.includes(e)):[]}},watch:{fieldValue:{handler(e){if(JSON.stringify(this.fieldValueInt)!==JSON.stringify(e)){this.setFieldValue(e);const t=this.fieldProps.tabs||this.tabs;t&&t.length&&(this.activeTab=this.setActiveTab())}},immediate:!0},fieldValueInt:{handler(e){void 0!==e&&JSON.stringify(this.fieldValue)!==JSON.stringify(e)&&this.$emit("field-value-changed",e)},deep:!0},dropDownList(){this.fetchingData=!1}},mounted(){this.setFieldValue(this.fieldValue),this.tabs&&this.tabs.length&&(this.activeTab=this.setActiveTab())},methods:{setFieldValue(e){e&&"object"==typeof e?e.length>=0?this.fieldValueInt=[].concat(JSON.parse(JSON.stringify(e))):this.fieldValueInt={...JSON.parse(JSON.stringify(e))}:this.fieldValueInt=e},setInputValue(e){this.fieldValueInt=e&&"string"!=typeof e&&"number"!=typeof e?{...this.fieldValueInt,...JSON.parse(JSON.stringify(e))}:e},fetchAutocomplete({value:e}){this.fetchingData=!0,this.textInput=e,this.$emit("fetch-autocomplete",{value:e,name:this.field.name,source:this.field["x-attrs"].source,equivalent:this.field["x-attrs"].equivalent})},subFormFetchAutocomplete(e){this.$emit("fetch-autocomplete",e)},getLabel(e){return this.getLangLabel(e,this.language,!0)},setActiveTab(){const e=this.availableLocales.filter(e=>!!this.fieldValueInt[e]);return!e.length||this.fieldValueInt[this.language]?this.language:e[0]},setMultilineDropDown(e){this.$set(this.fieldValueInt,"type",e.source?e:null)},onEnter(e){"multiline"!==this.fieldType?e.preventDefault():this.$emit("keydown",e)},fetchBoxData(){this.$emit("fetch-info-data")}}},r=(i(454),i(11)),n=Object(r.a)(l,(function(){var e=this,t=e._self._c;return t("div",["date"!==e.fieldType&&"chips"!==e.fieldType&&"chips-below"!==e.fieldType&&"group"!==e.fieldType&&"boolean"!==e.fieldType?t(e.fieldElement,e._b({key:e.fieldKey,tag:"component",attrs:{id:e.fieldKey,label:e.labelInt,"show-label":e.fieldProps.showLabel||e.showLabel,placeholder:e.placeholderInt,tabs:"multiline"===e.fieldType&&(e.fieldProps.tabs||e.tabs),"tab-labels":"multiline"===e.fieldType&&(e.fieldProps.tabLabels||e.tabs.map(t=>e.getI18nTerm(t))),"tabs-legend":"multiline"===e.fieldType&&(e.fieldProps.tabsLegend||e.getI18nTerm("form.textTabsLegend")),"active-tab":"multiline"===e.fieldType&&e.activeTab,list:"autocomplete"===e.fieldType&&(e.dropDownList.length?e.dropDownList:e.fieldProps.list||[]),"is-loading":e.autocompleteLoading,input:e.fieldValueInt,"field-type":e.fieldProps.fieldType||("integer"===e.field.type?"number":"text"),invalid:e.invalid||e.fieldProps.invalid,required:e.required||e.fieldProps.required,"error-message":e.errorMessage||e.fieldProps.errorMessage,"show-error-icon":e.showErrorIcon,clearable:e.clearable},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},input:function(t){return e.setInputValue(t)},"fetch-dropdown-entries":function(t){return e.$emit("fetch-autocomplete",{value:t,name:e.field.name,source:e.field["x-attrs"].source})}},scopedSlots:e._u([{key:"label-addition",fn:function(){return[e._t("label-addition",null,{fieldName:e.field.name}),e._v(" "),"multiline"===e.fieldType&&e.field.items&&e.field.items.properties&&e.field.items.properties.type?t("BaseDropDown",{staticClass:"base-form-field-creator__multiline-dropdown",attrs:{id:e.fieldKey,"selected-option":e.fieldValueInt&&e.fieldValueInt.type&&e.fieldValueInt.type.source?e.fieldValueInt.type:e.textTypeDefault,options:e.textTypeOptions,label:e.getI18nTerm("form.texttype"),language:e.language,"value-prop":"source"},on:{"value-selected":e.setMultilineDropDown}}):e._e()]},proxy:!0},{key:"pre-input-field",fn:function(){return[e._t("pre-input-field",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-addition-before",fn:function(){return[e._t("input-field-addition-before",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-inline-before",fn:function(){return[e._t("input-field-inline-before",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-addition-after",fn:function(){return[e._t("input-field-addition-after",null,{fieldName:e.field.name})]},proxy:!0},{key:"post-input-field",fn:function(){return[e._t("post-input-field",null,{fieldName:e.field.name})]},proxy:!0},{key:"error-icon",fn:function(){return[e._t("error-icon",null,{fieldName:e.field.name})]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon",null,{fieldName:e.field.name})]},proxy:!0},{key:"below-input",fn:function(){return[e._t("below-input",null,{fieldName:e.field.name})]},proxy:!0}],null,!0)},"component",e.fieldProps,!1)):"date"===e.fieldType?t("fieldset",{staticClass:"base-form-field-creator__date-fieldset"},[t("div",{staticClass:"base-form-field-creator__date-field-wrapper"},[t("BaseDateInput",e._b({key:e.fieldKey+"_date",staticClass:"base-form-field-creator__date-field",attrs:{id:e.fieldKey,label:e.labelInt,"show-label":e.fieldProps.showLabel||e.showLabel,placeholder:e.placeholderInt,"range-separator":e.fieldProps.rangeSeparator||e.getI18nTerm("form.until"),format:e.field["x-attrs"].date_format||e.fieldProps.format,type:e.dateType.includes("timerange")?e.dateType.includes("daterange")?"daterange":"single":e.dateType,"date-format-labels":e.fieldProps.dateFormatLabels||{date:e.getI18nTerm("form.date"),year:e.getI18nTerm("form.year")},"format-tabs-legend":e.fieldProps.formatTabsLegend||e.getI18nTerm("form.dateTabsLegend"),language:e.language,invalid:e.invalid||e.fieldProps.invalid,required:e.required||e.fieldProps.required,"error-message":e.errorMessage||e.fieldProps.errorMessage},scopedSlots:e._u([{key:"label-addition",fn:function(){return[e._t("label-addition",null,{fieldName:e.field.name})]},proxy:!0},{key:"pre-input-field",fn:function(){return[e._t("pre-input-field",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-addition-before",fn:function(){return[e._t("input-field-addition-before",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-inline-before",fn:function(){return[e._t("input-field-inline-before",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-addition-after",fn:function(){return[e._t("input-field-addition-after",null,{fieldName:e.field.name})]},proxy:!0},{key:"post-input-field",fn:function(){return[e._t("post-input-field",null,{fieldName:e.field.name})]},proxy:!0},{key:"error-icon",fn:function(){return[e._t("error-icon",null,{fieldName:e.field.name})]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon",null,{fieldName:e.field.name})]},proxy:!0},{key:"below-input",fn:function(){return[e._t("below-input",null,{fieldName:e.field.name})]},proxy:!0}],null,!0),model:{value:e.fieldValueInt,callback:function(t){e.fieldValueInt=t},expression:"fieldValueInt"}},"BaseDateInput",e.fieldProps,!1)),e._v(" "),e.dateType.includes("timerange")?t("BaseDateInput",e._b({key:e.fieldKey+"_time",staticClass:"base-form-field-creator__date-field",attrs:{id:e.fieldKey,label:e.field.properties.time_from.title,"show-label":!1,placeholder:e.placeholderInt.time,"range-separator":e.fieldProps.rangeSeparator||e.getI18nTerm("form.until"),invalid:e.invalid||e.fieldProps.invalid,required:e.required||e.fieldProps.required,"error-message":e.errorMessage||e.fieldProps.errorMessage,type:"timerange"},model:{value:e.fieldValueInt,callback:function(t){e.fieldValueInt=t},expression:"fieldValueInt"}},"BaseDateInput",e.fieldProps,!1)):e._e()],1)]):"chips"===e.fieldType||"chips-below"===e.fieldType?t(e.fieldElement,e._b({key:e.fieldKey,tag:"component",attrs:{id:e.fieldKey,placeholder:e.placeholderInt,label:e.labelInt,"show-label":e.fieldProps.showLabel||e.showLabel,list:e.dropDownList.length?e.dropDownList:e.fieldProps.list||[],"allow-dynamic-drop-down-entries":e.field["x-attrs"]&&e.field["x-attrs"].dynamic_autosuggest||!!e.fieldProps.allowDynamicDropDownEntries,"allow-multiple-entries":!e.isChipsSingleSelect,"allow-unknown-entries":e.field["x-attrs"]&&e.field["x-attrs"].allow_unknown_entries||!!e.fieldProps.allowUnknownEntries,draggable:!!e.fieldProps.draggable||!e.isChipsSingleSelect,"hoverbox-content":e.hoverBoxData||e.fieldProps.hoverBoxData,sortable:"keywords"===e.field.name||e.field["x-attrs"]&&e.field["x-attrs"].sortable||!!e.fieldProps.sortable,"is-loading":e.autocompleteLoading,"sort-text":e.fieldProps.sortText||e.sortText,"sort-name":e.fieldProps.sortName||e.isContributorOrEquivalent,language:e.field["x-attrs"]&&e.field["x-attrs"].set_label_language||"chips-below"===e.fieldType?e.language:"","drop-down-no-options-info":e.fieldProps.dropDownNoOptionsInfo||e.getI18nTerm("form.noMatch"),"additional-prop-options":"chips-below"===e.fieldType&&e.secondaryDropdown,"additional-prop-placeholder":"chips-below"===e.fieldType&&(e.fieldProps.additionalPropPlaceholder||e.getI18nTerm("form.selectRoles")),"additional-property-name":"chips-below"===e.fieldType&&(e.fieldProps.additionalPropertyName||"roles"),invalid:e.invalid||e.fieldProps.invalid,required:e.required||e.fieldProps.required,"error-message":e.errorMessage||e.fieldProps.errorMessage,"show-error-icon":e.showErrorIcon,"identifier-property-name":e.fieldProps.identifierPropertyName||e.identifierPropertyName,"label-property-name":e.fieldProps.labelPropertyName||e.labelPropertyName},on:{"fetch-dropdown-entries":e.fetchAutocomplete,input:function(t){e.textInput=t},"hoverbox-active":e.fetchBoxData},scopedSlots:e._u([{key:"drop-down-entry",fn:function(i){return[t("span",[e._v("\n        "+e._s(e.getLabel(i.item.label))+"\n      ")]),e._v(" "),t("span",{staticClass:"base-form-field-creator__chips-dropdown-second"},[e._v("\n        "+e._s(i.item.additional)+"\n      ")]),e._v(" "),t("span",{staticClass:"base-form-field-creator__chips-dropdown-third"},[e._v("\n        "+e._s(i.item.source_name)+"\n      ")])]}},{key:"no-options",fn:function(){return[e.field["x-attrs"]&&e.field["x-attrs"].dynamic_autosuggest&&!e.fieldInput?t("span",[e._v("\n        "+e._s(e.getI18nTerm("form.startTyping"))+"\n      ")]):e.field["x-attrs"]&&e.field["x-attrs"].dynamic_autosuggest||!e.textInput?!e.fieldInput||e.fetchingData||e.autocompleteLoading?t("span",[e._v("\n        "+e._s(e.getI18nTerm("form.fetchingResults"))+"\n      ")]):t("span",[e._v("\n        "+e._s(e.getI18nTerm("form.noResult"))+"\n      ")]):t("span",[e._v("\n        "+e._s(e.getI18nTerm("form.noMatch"))+"\n      ")])]},proxy:!0},{key:"label-addition",fn:function(){return[e._t("label-addition",null,{fieldName:e.field.name})]},proxy:!0},{key:"pre-input-field",fn:function(){return[e._t("pre-input-field",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-addition-before",fn:function(){return[e._t("input-field-addition-before",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-inline-before",fn:function(){return[e._t("input-field-inline-before",null,{fieldName:e.field.name})]},proxy:!0},{key:"input-field-addition-after",fn:function(){return[e._t("input-field-addition-after",null,{fieldName:e.field.name})]},proxy:!0},{key:"post-input-field",fn:function(){return[e._t("post-input-field",null,{fieldName:e.field.name})]},proxy:!0},{key:"error-icon",fn:function(){return[e._t("error-icon",null,{fieldName:e.field.name})]},proxy:!0},{key:"remove-icon",fn:function(){return[e._t("remove-icon",null,{fieldName:e.field.name})]},proxy:!0},{key:"below-input",fn:function(){return[e._t("below-input",null,{fieldName:e.field.name})]},proxy:!0}],null,!0),model:{value:e.fieldValueInt,callback:function(t){e.fieldValueInt=t},expression:"fieldValueInt"}},"component",e.fieldProps,!1)):"group"===e.fieldType?t("div",{key:e.fieldKey,staticClass:"base-form-field-creator__field-array"},[e.field["x-attrs"]&&e.field["x-attrs"].show_label?t("div",{staticClass:"base-form-field-creator__field-array-label"},[e._v("\n      "+e._s(e.labelInt+":")+"\n    ")]):e._e(),e._v(" "),t("div",{key:e.fieldKey,staticClass:"base-form-field-creator__subform-wrapper"},[t("BaseForm",e._b({staticClass:"base-form-field-creator__subform",attrs:{"form-field-json":e.groupFormFields,"value-list":e.fieldValueInt,"form-id":e.fieldKey+"_"+e.field.name,"field-props":e.fieldProps},on:{"values-changed":function(t){return e.$emit("field-value-changed",t)},"fetch-autocomplete":e.subFormFetchAutocomplete}},"BaseForm",e.fieldGroupParams,!1))],1)]):"boolean"===e.fieldType?[t("BaseToggle",e._b({staticClass:"base-form-field-creator__toggle",attrs:{name:e.fieldKey,label:e.labelInt,checked:e.fieldValue,"bind-slot-to-state":e.fieldProps.bindSlotToState||!0},on:{clicked:function(t){return e.$emit("field-value-changed",t)}}},"BaseToggle",e.fieldProps,!1),[e.field["x-attrs"]&&e.field["x-attrs"].subtext&&e.field["x-attrs"].subtext.value?t("BaseLink",{attrs:{source:e.field["x-attrs"].subtext.source||"",url:e.field["x-attrs"].subtext.url||"",value:e.field["x-attrs"].subtext.value}}):e._e()],1)]:e._e()],2)}),[],!1,null,"6a3ee449",null);t.default=n.exports},454:function(e,t,i){"use strict";i(363)}}]);